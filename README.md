# Руководство по интеграции H2 с Hibernate на языке Java (Maven)

## Содержание
- [Введение](#введение)
- [Настройка проекта](#настройка-проекта)
  - [Добавление зависимостей](#добавление-зависимостей)
- [Конфигурация Hibernate](#конфигурация-hibernate)
  - [Файл конфигурации hibernate.cfg.xml](#файл-конфигурации-hibernatecfgxml)
- [Создание сущностей](#создание-сущностей)
- [Создание и выполнение запросов](#создание-и-выполнение-запросов)
  - [Сохранение данных](#сохранение-данных)
  - [Чтение данных](#чтение-данных)
  - [Обновление данных](#обновление-данных)
  - [Удаление данных](#удаление-данных)
- [Заключение](#заключение)

---

## Введение
H2 — это встраиваемая реляционная база данных, которая отлично подходит для разработки и тестирования. Hibernate — это фреймворк ORM (Object-Relational Mapping), который упрощает взаимодействие с базами данных в Java. В этом руководстве мы настроим интеграцию H2 с Hibernate и разберем примеры работы с базой данных.

---

## Настройка проекта

### Добавление зависимостей
Создайте новый проект Maven и добавьте следующие зависимости в файл `pom.xml`:

```xml
<dependencies>
    <!-- Hibernate Core -->
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>5.6.15.Final</version>
    </dependency>

    <!-- H2 Database -->
    <dependency>
        <groupId>com.h2database</groupId>
        <artifactId>h2</artifactId>
        <version>2.1.214</version>
    </dependency>

    <!-- JUnit (для тестирования, если нужно) -->
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter</artifactId>
        <version>5.8.2</version>
        <scope>test</scope>
    </dependency>
</dependencies>
```

---

## Конфигурация Hibernate

### Файл конфигурации hibernate.cfg.xml
Создайте файл `hibernate.cfg.xml` в директории `src/main/resources` со следующей конфигурацией:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC 
    "-//Hibernate/Hibernate Configuration DTD 3.0//EN" 
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
    <session-factory>
        <!-- JDBC URL для H2 -->
        <property name="hibernate.connection.url">jdbc:h2:./testdb</property>
        <property name="hibernate.connection.driver_class">org.h2.Driver</property>
        <property name="hibernate.connection.username">sa</property>
        <property name="hibernate.connection.password"></property>

        <!-- Диалект Hibernate -->
        <property name="hibernate.dialect">org.hibernate.dialect.H2Dialect</property>

        <!-- Автоматическое создание и обновление таблиц -->
        <property name="hibernate.hbm2ddl.auto">update</property>

        <!-- Форматирование SQL в логах -->
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.format_sql">true</property>
    </session-factory>
</hibernate-configuration>
```

---

## Создание сущностей
Создайте Java-класс, который будет представлять сущность. Например, сущность `User`:

```java
import jakarta.persistence.*;

@Entity
@Table(name = "users")
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(name = "name", nullable = false)
    private String name;

    @Column(name = "email", unique = true, nullable = false)
    private String email;

    // Конструкторы, геттеры и сеттеры
    public User() {}

    public User(String name, String email) {
        this.name = name;
        this.email = email;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }
}
```

---

## Создание и выполнение запросов

### Сохранение данных
Пример сохранения нового пользователя:

```java
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class Main {
    public static void main(String[] args) {
        SessionFactory factory = new Configuration().configure("hibernate.cfg.xml").addAnnotatedClass(User.class).buildSessionFactory();
        
        Session session = factory.getCurrentSession();
        try {
            // Создание объекта User
            User newUser = new User("John Doe", "john.doe@example.com");

            // Начало транзакции
            session.beginTransaction();

            // Сохранение объекта
            session.save(newUser);

            // Завершение транзакции
            session.getTransaction().commit();
        } finally {
            factory.close();
        }
    }
}
```

### Чтение данных
Пример получения пользователя по ID:

```java
session.beginTransaction();
User user = session.get(User.class, 1L);
session.getTransaction().commit();
System.out.println(user.getName() + " - " + user.getEmail());
```

### Обновление данных
Пример обновления имени пользователя:

```java
session.beginTransaction();
User user = session.get(User.class, 1L);
user.setName("Jane Doe");
session.getTransaction().commit();
```

### Удаление данных
Пример удаления пользователя:

```java
session.beginTransaction();
User user = session.get(User.class, 1L);
if (user != null) {
    session.delete(user);
}
session.getTransaction().commit();
```

---

## Заключение
Вы успешно настроили интеграцию Hibernate с H2 и создали основные операции для работы с базой данных. H2 идеально подходит для тестирования и разработки, а Hibernate упрощает работу с базами данных. Используйте этот шаблон для быстрого старта ваших проектов.

























# Java зима 2025    

Сидит русский в кафе к нему официант подходит:    
— Вы русский.    
— Да, как вы узнали?    
— А в начале анекдота написано.

https://docs.google.com/document/d/1b47ur7CZEbgdkzH5rp1nAK_ZwNwZwbAYafKuWzYJI2M     
    
Задачи    
     
Условие: «Реализовать программу для выполнения следующих математических операций с целочисленным, байтовым и вещественным типами данных: сложение, вычитание, умножение, деление, деление по модулю (остаток), модуль числа, возведение в степень. Все данные вводятся с клавиатуры (класс Scanner, System.in, nextint).» По данному условию необходимо реализовать программу с интерактивным консольным меню, (т.е. вывод списка действий по цифрам. При этом при нажатии на цифру у нас должно выполняться определенное действие). При этом в программе данные пункты должны называться следующим образом:     
Вывести все таблицы из MySQL.     
Создать таблицу в MySQL.    
Сложение чисел, результат сохранить в MySQL с последующим выводом в консоль.    
Вычитание чисел, результат сохранить в MySQL с последующим выводом в консоль.    
Умножение чисел, результат сохранить в MySQL с последующим выводом в консоль.    
Деление чисел, результат сохранить в MySQL с последующим выводом в консоль.    
Деление чисел по модулю (остаток), результат сохранить в MySQL с последующим выводом в консоль.    
Возведение числа в модуль, результат сохранить в MySQL с последующим выводом в консоль.    
Возведение числа в степень, результат сохранить в MySQL с последующим выводом в консоль.    
Сохранить все данные (вышеполученные результаты) из MySQL в Excel и вывести на экран.     
https://github.com/flamingo99900/JavaEkz/tree/task_1    

Напишите программу, в которой из строки "I have 3 cats, 4 dogs, and 1 turtle" отбираются цифры. Из этих цифр формируется массив.    
https://github.com/flamingo99900/JavaEkz/tree/task_2    

Разработайте программу, которая выводит в консоль все цифры, входящие в натуральное число n. К примеру, если дано число 2359, то в консоль выводятся отдельно числа 2, 3, 5, 9.    
https://github.com/flamingo99900/JavaEkz/tree/task_3    

Написать калькулятор для строковых выражений вида "<число> <операция> <число>", где <число> - положительное целое число меньшее 10, записанное словами, например, "четыре", <арифметическая операция> - одна из операций "плюс", "минус", "умножить". Результат выполнения операции вернуть в виде текстового представления числа. Пример: "пять плюс четыре" --> "девять".    
https://github.com/flamingo99900/JavaEkz/tree/task_4    

Напишите программную реализацию бинарного дерева поиска.    
https://github.com/flamingo99900/JavaEkz/tree/task_5     

Разработайте программу, которая выводит буквы английского алфавита, используя цикл while в MySQL/PostgreSQL.    
https://github.com/flamingo99900/JavaEkz/tree/task_6    

Напишите программу, которая будет выводить в консоль введенное слово 6 раз и сохранять в MySQL/PostgreSQL.    
https://github.com/flamingo99900/JavaEkz/tree/task_7    

Разработать программу для вывода на экран кубов первых десяти положительных чисел.    
https://github.com/flamingo99900/JavaEkz/tree/task_8    

Напишите программу, которая по дате определяет день недели, на который эта дата приходится.    
https://github.com/flamingo99900/JavaEkz/tree/task_9    

Написать класс, который при введении даты в формате ДД.ММ.ГГ (к примеру, 22.10.20) выводит номер недели. Даты начиная с 2020 по 2022 годы. К примеру, первая неделя в 2020 году: 1-5 января, вторая неделя – 6-12 января. Значит при вводе 08.01.20 вывод должен быть: Неделя 2.    
https://github.com/flamingo99900/JavaEkz/tree/task_10     

Разработайте программу, реализующую рекурсивное вычисление факториала.     
https://github.com/flamingo99900/JavaEkz/tree/task_11    

Разработать класс-оболочку для числового типа double. Реализовать статические методы сложения, деления, возведения в степень.    
https://github.com/flamingo99900/JavaEkz/tree/task_12    

Разработать программу, которая заполняет двумерный массив случайными положительными числами в диапазоне от 1 до 100 до тех пор, пока сумма граничных элементов не станет равной 666. Пользователь вначале вводит размер матрицы.    
https://github.com/flamingo99900/JavaEkz/tree/task_13    

Разработать программу, в которой требуется создать класс, описывающий геометрическую фигуру – треугольник. Методами класса должны быть – вычисление площади, периметра. Создать класс-наследник, определяющий прямоугольный треугольник.    
https://github.com/flamingo99900/JavaEkz/tree/task_14    

Разработать программу, в которой требуется создать абстрактный класс. В этом абстрактном классе определить абстрактные методы вычисления функции в определенной точке. Создать классы-наследники абстрактного класса, описывающими уравнения прямой и параболы. Программа должна выводить в консоль значение функции при вводе определенного значения.    
https://github.com/flamingo99900/JavaEkz/tree/task_15    

Создать интерфейс Progress c методами вычисления любого элемента прогрессии и суммы прогрессии. Разработать классы арифметической и геометрической прогрессии, которые имплементируют интерфейс Progress.    
https://github.com/flamingo99900/JavaEkz/tree/task_16     

Разработать интерфейс InArray, в котором предусмотреть метод сложения двух массивов. Создать класс ArraySum, в котором имплементируется метод сложения массивов. Создать класс OrArray, в котором метод сложения массивов имплементируется как логическая операция ИЛИ между элементами массива.    
https://github.com/flamingo99900/JavaEkz/tree/task_17    

Создать класс Binary для работы с двоичными числами фиксированной длины. Число должно быть массивом тип char, каждый элемент которого принимает значение 0 или 1. Младший бит имеет младший индекс. Отрицательные числа представляются в дополнительном коде. Дополнительный код получается инверсией всех битов с прибавлением 1 к младшему биту. Например, +1 – это в двоичном коде будет выглядеть, как 0000 0001. А -1 в двоичном коде будет выглядеть, как 1111 1110 + 0000 0001 = 1111 1111. Создать методы конвертации десятичного числа в массив и обратно.    
https://github.com/flamingo99900/JavaEkz/tree/task_18 

Создать класс Matrix для работы с двумерными матрицами. Создать методы для генерации нулевой матрицы, а также для генерации матрицы со случайными величинами – применить Math.random(). Реализовать метод сложения матриц.    
https://github.com/flamingo99900/JavaEkz/tree/task_19    

Реализовать класс MyMath для работы с числами. Реализовать статический метод класса MyMath.round(), который округляет дробь до целого числа. Также статический метод abs(), который находит модуль числа. Статический метод MyMath.pow() для нахождения степени числа. Библиотеку Math не использовать.    
https://github.com/flamingo99900/JavaEkz/tree/task_20    

Разработать программу для игры «Угадайка». Программа загадывает случайное число от 1 до 10, требуется его отгадать с трех попыток. После каждой попытки, если результат неверен, игроку выводится сообщение, меньше или больше названное игроком число, чем загаданное. Сет заканчивается или если игрок угадывает число, или если исчерпывает три попытки, не угадав. Игра должна быть выполнена в бесконечном цикле, и продолжается до тех пор, пока на предложение «Сыграем еще раз?» игрок не напишет «Нет».    
https://github.com/flamingo99900/JavaEkz/tree/task_21    

Разработайте программу-генератор рабочего календаря. Слесарь механосборочного цеха работает сутки через трое. Если смена попадает на воскресенье, то переносится на понедельник. По введенной дате программа должна генерировать расписание из дат на текущий месяц на 2022 год.    
https://github.com/flamingo99900/JavaEkz/tree/task_22    

Разработать класс для представления комплексных чисел с возможностью задания вещественной и мнимой частей в виде массива из двух чисел типа int. Определить методы для выполнения операций сложения, вычитания и умножения комплексных чисел.    
https://github.com/flamingo99900/JavaEkz/tree/task_23    

Создайте класс Form - оболочку для создания и ввода пароля. Он должен иметь методы input, submit, password. Создайте класс SmartForm, который будет наследовать от Form и сохранять значения password.    
https://github.com/flamingo99900/JavaEkz/tree/task_24    

Сделайте класс User, в котором будут следующие protected поля - name (имя), age (возраст), public методы setName, getName, setAge, getAge. Сделайте класс Worker, который наследует от класса User и вносит дополнительное private поле salary (зарплата), а также методы public getSalary и setSalary. Создайте объект этого класса 'Иван', возраст 25, зарплата 1000. Создайте второй объект этого класса 'Вася', возраст 26, зарплата 2000. Найдите сумму зарплата Ивана и Васи. Сделайте класс Student, который наследует от класса User и вносит дополнительные private поля стипендия, курс, а также геттеры и сеттеры для них.    
https://github.com/flamingo99900/JavaEkz/tree/task_25    

Создайте класс ColorModel для определения цветовой модели. Разработайте подклассы RGBconverter и CMYKconverter для конвертации цвета из одной модели в другую. Конвертация CMYK в RGB производится по следующим формулам: R = 255 × (1-C) × (1-K), G = 255 × (1-M) × (1-K), B = 255 × (1-Y) × (1-K) (где R – red, G – green, B – black, C – Cyan, M - Magenta, Y - Yellow, K- Black))    
https://github.com/flamingo99900/JavaEkz/tree/task_26    

Создайте класс Number для конвертации десятичного числа в бинарный, восьмеричный, шестнадцатеричный вид. Реализовать в виде статических методов класса. Числа вводятся с клавиатуры с запросом в какой численный вид конвертировать.    
https://github.com/flamingo99900/JavaEkz/tree/task_27    

Разработать класс Neuron для реализации нейронной сети из двух нейронов и одного выхода. Сделать функцию прямого распространения с функцией активации в виде сигмоиды.    
не стала даже комменты убирать чтобы хоть чето было понятно    
https://github.com/flamingo99900/JavaEkz/tree/task_28    

Напишите программу, которая заполняет списочный массив случайными числами типа Integer (значения этих чисел были от 1 до 100). Список должен содержать 100 элементов. Затем отсортируйте по убыванию список и выведите первые 10 значений в консоль. Результаты сохраните в MySQL/PostgreSQL.    
https://github.com/flamingo99900/JavaEkz/tree/task_29    

Разработайте программу, которая заполняет список случайными числами. Количество элементов и числовой диапазон вводятся пользователем. Программа должна проверять, входит ли число (также вводится пользователем) в данный список. Должен быть реализован бинарный поиск. Результаты должны сохраняться в MySQL/PostgreSQL и выводиться оттуда же.    
https://github.com/flamingo99900/JavaEkz/tree/task_30    
   
вариант максима ^^    
https://github.com/flamingo99900/JavaEkz/tree/task_30.1    

На основе класса BitSet разработайте программу для реализации битовых операций AND, OR, XOR, а также маскирования.    
https://github.com/flamingo99900/JavaEkz/tree/task_31    

Напишите программу, которая получает в качестве входных данных два числа. Эти числа являются количество строк и столбцов двумерной коллекции целых чисел. Далее элементы заполняются случайными числами и выводятся в консоль в виде таблицы.    
https://github.com/flamingo99900/JavaEkz/tree/task_32    

Разработайте программу, которая получает в качестве параметра два числа –количество строк и столбцов двумерной коллекции целых чисел. Коллекция заполняется случайными числами, после чего на экран выводятся максимальное и минимальное значения с индексами ячеек.    
https://github.com/flamingo99900/JavaEkz/tree/task_33    

Разработайте программу, в которой создайте две коллекции с именами людей (строковые переменные). Результат сохранить в MySQL/PostgreSQL. Затем последовательно выводите в консоль имена.    
https://github.com/flamingo99900/JavaEkz/tree/task_34    

Напишите программу, которая реализует класс Matrix и следующие методы:    
Сложение и вычитание матриц.    
Умножение матрицы на число.    
Произведение двух матриц.    
Транспонированная матрица.    
Возведение матрицы в степень.    
Если метод, возвращает матрицу, то он должен возвращать новый объект, а не менять базовый.    
https://github.com/flamingo99900/JavaEkz/tree/task_35    

Разработать программу для поочередной обработки текстовых файлов. Файлы созданы со следующими именами: n.txt, где n – натуральное число. В файлах записаны: в первой строке одно число с плавающей запятой, во второй строке – второе число. Пользователь вводит название файла и требуемую операцию над числами (сложение, умножение, разность). Результат выводится на экран и файл n_out.txt.    
https://github.com/flamingo99900/JavaEkz/tree/task_36    

Написать приложение для сложения, вычитания, умножения, деления, возведения в степень логарифмов. Программа должна выполнять ввод данных, проверку правильности введенных данных, выдачу сообщений в случае ошибок. Результат выводится на экран и записывается в файл.    
https://github.com/flamingo99900/JavaEkz/tree/task_37    

Разработать программу шифровки-дешифровки по алгоритму AES-128. Данные берутся из файла, зашифрованные данные сохраняются в указанный файл.    
https://github.com/flamingo99900/JavaEkz/tree/task_38    

Разработать программу нахождения наибольшего общего делителя двух натуральных чисел. Требуется реализовать рекурсивный и без рекурсии варианты. Результат сохранить в MySQL/PostgreSQL.    
https://github.com/flamingo99900/JavaEkz/tree/task_39    

Напишите программу, которая каждые 5 секунд отображает на экране данные о времени, прошедшем от начала запуска программы, а другой её поток выводит сообщение каждые 7 секунд. Третий поток выводит на экран сообщение каждые 10 секунд. Программа работает одну минуту, затем останавливается. Все результаты после вывода необходимо сохранить в MySQL/PostgreSQL.    
https://github.com/flamingo99900/JavaEkz/tree/task_40     

Условие задачи: «Ввести две строки (не менее 50 символов каждая) с клавиатуры. Необходимо вывести на экран две введенных ранее строки, подсчитать и вывести размер длины каждой строки, объединить данные строки в одну, сравнить данные строки и результат сравнения вывести на экран». По данному условию необходимо реализовать программу с интерактивным консольным меню, (т.е. вывод списка действий по цифрам. При этом при нажатии на цифру у нас должно выполняться определенное действие). При этом в программе данные пункты должны называться следующим образом:    
Вывести все таблицы из MySQL.    
Создать таблицу в MySQL.    
Ввести две строки с клавиатуры, результат сохранить в MySQL с последующим выводом в консоль.    
Подсчитать размер ранее введенных строк, результат сохранить в MySQL с последующим выводом в консоль.    
Объединить две строки в единое целое, результат сохранить в MySQL с последующим выводом в консоль.    
Сравнить две ранее введенные строки, результат сохранить в MySQL с последующим выводом в консоль.    
Сохранить все данные (вышеполученные результаты) из MySQL в Excel и вывести на экран.    
https://github.com/flamingo99900/JavaEkz/tree/task_41    
     
вариант максима ^^    
https://github.com/flamingo99900/JavaEkz/tree/task_41.1    

Написать на основе Spring Boot клиент-серверное приложение MyUser, в котором можно управлять данными пользователей из базы данных через веб-интерфейс: имя, фамилия, возраст, номер группы. База данных может быть любой – MySQL, PostgreSQL и т.д. При этом должна быть доступна возможность добавления/удаления/редактирования пользователей.    
https://github.com/flamingo99900/JavaEkz/tree/task_42    

Написать на основе Spring Boot Security форму для авторизации и регистрации пользователя. При этом после авторизации пользователя должно быть перенаправление на главную страницу. Главная страница должна содержать запись «Hello World!». При этом до авторизации главная страница не должна быть доступна для пользователя.    
https://github.com/flamingo99900/JavaEkz/tree/task_43    

Разработать MVC-приложение арифметический калькулятор на основе Spring Boot. Применить шаблонизатор Thymeleaf. Все результаты вычисления должны сохраняться и выводиться из MySQL.    
https://github.com/flamingo99900/JavaEkz/tree/task_44    

Разработка веб-MVC приложения на основе Spring Boot. Приложение должно генерировать последовательность из 1000 случайных чисел в диапазоне, заданном пользователем, и выводит эти числа на экран и вычисляет их среднее арифметическое.    
https://github.com/flamingo99900/JavaEkz/tree/task_45    

Разработать приложение для работы с локальной базой данных MySQL. Создайте базу данных мобильных телефонов (не менее 10 позиций), со следующими полями: производитель, модель, год выпуска, диагональ экрана. Напишите методы для выполнения запросов к базе данных. Все данные должны выводиться в консоли на экран.     
https://github.com/flamingo99900/JavaEkz/tree/task_46    
